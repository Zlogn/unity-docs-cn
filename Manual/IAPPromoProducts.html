<!DOCTYPE html><html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-MC35ML');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="内购推荐 (IAP Promo) 商品目录 - Unity Manual">
<title>内购推荐 (IAP Promo) 商品目录 - Unity Manual</title>
<meta property="og:image" content="https://docs.unity3d.com/zh_CN/2018.1/uploads/Main/ExportCatalogJSON.png">
<meta name="description" content="Unity IAP 提供快速简单的工具来创建和导出__商品目录__ (Product Catalogs)。使用 Unity Editor 的 IAP Catalog 窗口可填写__商品__元数据，然后将目录导出到开发者控制面板 (Developer Dashboard) 以配置每个商品的创意资源。请注意，必须使用 IAP Catalog 功能将商品导出到控制面板。">
<meta property="og:description" content="Unity IAP 提供快速简单的工具来创建和导出__商品目录__ (Product Catalogs)。使用 Unity Editor 的 IAP Catalog 窗口可填写__商品__元数据，然后将目录导出到开发者控制面板 (Developer Dashboard) 以配置每个商品的创意资源。请注意，必须使用 IAP Catalog 功能将商品导出到控制面板。">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'IAPPromoProducts';
      if(!page) page = 'index';
      var version = '2018.1';
      var docs_versions = [{version: '2019.1',version_string: '2019.1'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2018.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/IAPPromoProducts.html">2019.1</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/IAPPromoProducts.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/IAPPromoProducts.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/IAPPromoProducts.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/IAPPromoProducts.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/IAPPromoProducts.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/IAPPromoProducts.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/IAPPromoProducts.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/IAPPromoProducts.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2018.1/Documentation/Manual/IAPPromoProducts.html">English</a></li>
<li><a data-lang="ja" href="/ja/2018.1/Manual/IAPPromoProducts.html">日本語</a></li>
<li><a data-lang="es" href="/es/2018.1/Manual/IAPPromoProducts.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2018.1/Manual/IAPPromoProducts.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2018.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/IAPPromoProducts.html">2019.1</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/IAPPromoProducts.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/IAPPromoProducts.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/IAPPromoProducts.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/IAPPromoProducts.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/IAPPromoProducts.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/IAPPromoProducts.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/IAPPromoProducts.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/IAPPromoProducts.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 (2018.1)</a></li>
<li><a href="UnityServices.html">Unity 服务</a></li>
<li><a href="IAPPromo.html">内购推荐 (IAP Promo)</a></li>
<li>内购推荐 (IAP Promo) 商品目录</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="IAPPromoPlacements.html"></a></span><div class="tip">内购推荐 (IAP Promo) 广告位</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="IAPPromoPromotions.html"></a></span><div class="tip">推荐 (Promotions)</div>
</div>
</div></div>
<h1>内购推荐 (IAP Promo) 商品目录</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity IAP 提供快速简单的工具来创建和导出__商品目录__ (Product Catalogs)。使用 Unity Editor 的 <strong>IAP Catalog</strong> 窗口可填写__商品__元数据，然后将目录导出到<a href="https://iap.unityads.unity3d.com">开发者控制面板 (Developer Dashboard)</a> 以配置每个商品的创意资源。请注意，必须使用 IAP Catalog 功能将商品导出到控制面板。</p>

<h2>创建商品目录</h2>

<h3>在 IAP Catalog 窗口中添加商品</h3>

<p>在 Editor 中，选择 <strong>Window</strong> &gt; <strong>UnityIAP</strong> &gt; <strong>IAP Catalog</strong> 以打开 <strong>IAP Catalog</strong> 窗口。该 GUI 列出了以前配置的所有__商品__，并允许您为每个商品定义以下属性：</p>

<ul>
<li>
<strong>Name</strong>（名称）</li>
<li>
<strong>Product ID</strong>（商品 ID）</li>
<li>
<strong>Type</strong>（类型）：当前仅有 <strong>Consumable</strong>（消耗品）商品类型适用于内购推荐 (IAP Promo)</li>
<li>
<strong>Price</strong>（价格）：可根据各自价格层级独立指定 Google 和 Apple 商店的价格</li>
</ul>

<p><strong>注意</strong>：__商品目录__必须至少配置一个__商品__才能导出。有关设置__商品__的完整过程，请参阅有关 <a href="https://docs.unity3d.com/Manual/UnityIAPCodelessIAP.html">Codeless IAP</a> 的文档。</p>

<p>您可能已经使用构建器 (builder) 脚本为 Unity IAP 填充了__商品目录__。例如：</p>

<pre><code>var builder = ConfigurationBuilder.Instance(StandardPurchasingModule.Instance());
builder.AddProduct(product_coins, ProductType.Consumable);
builder.AddProduct(product_hat, ProductType.NonConsumable);
builder.AddProduct(product_elite, ProductType.Subscription);
</code></pre>

<p>因为内购推荐 (IAP Promo) 仅支持从 Editor <strong>IAP Catalog</strong> GUI 导出 JSON，所以我们建议按如下方式修改您的方法：</p>

<p>1.将__商品__复制粘贴到 <strong>IAP Catalog</strong> GUI。
2.从购买脚本中删除或注释掉现有的 <code>builder.AddProduct()</code> 代码。
3.在初始化 IAP 之前添加以下代码以从 <strong>IAP Catalog</strong> GUI 获取商品列表：</p>

<pre><code>StandardPurchasingModule module = StandardPurchasingModule.Instance();
ProductCatalog catalog = ProductCatalog.LoadDefaultCatalog();
ConfigurationBuilder builder = ConfigurationBuilder.Instance(module);
IAPConfigurationHelper.PopulateConfigurationBuilder(ref builder, catalog);

UnityPurchasing.Initialize(this, builder);
</code></pre>

<h3>导出商品目录</h3>

<p>在 <strong>IAP Catalog</strong> 窗口中，选择 <strong>App Store Export</strong> &gt; <strong>Cloud JSON</strong> 以导出__商品目录__的本地副本。</p>

<figure>
<img src="../uploads/Main/ExportCatalogJSON.png" alt="将商品目录导出到 JSON">
<figcaption>将商品目录导出到 JSON</figcaption>
</figure>

<h3>在开发者控制面板 (Developer Dashboard) 中配置创意资源</h3>

<p>从<a href="https://iap.unityads.unity3d.com">开发者控制面板 (Developer Dashboard) 的<strong>内购推荐 (IAP Promo)</strong> 部分</a>的左侧导航栏中选择 <strong>Product Catalog</strong>。此处会显示所有的现有__商品__。</p>

<h4>上传目录</h4>

<p>要设置新的__商品目录__或更新目录中的现有__商品__：</p>

<p>1.选择 <strong>UPLOAD JSON</strong>。
2.选择先前导出的 JSON 文件。然后会有差异日志提示您批准更改。验证文件的内容，然后选择 <strong>APPROVE CHANGES</strong>。</p>

<figure>
<img src="../uploads/Main/UploadCatalog.png" alt="将 IAP 商品目录导入开发者控制面板 (Developer Dashboard)">
<figcaption>将 IAP 商品目录导入开发者控制面板 (Developer Dashboard)</figcaption>
</figure>

<p>导入的__商品__将出现在 <strong>Product Catalog</strong>（商品目录）列表中。但是，为了符合__推荐 (Promotions)__ 的条件，每个__商品__必须具有关联的创意资源（否则__广告位__无法显示任何内容）。</p>

<h4>分配创意资源</h4>

<p>要添加创意资源，请遵循以下步骤：</p>

<p>1.从 <strong>Product Catalog</strong> 列表中选择一个__商品__，然后向下滚动到 <strong>Creative Uploads</strong> 部分。<br><br> <strong>注意</strong>：虽然每个商品的 <strong>Product ID</strong>（商品 ID）、<strong>Name</strong>（名称）、<strong>Price</strong>（价格）和 <strong>Type</strong>（类型）显示在控制面板中，但是只能从 Unity Editor 的 <strong>IAP Catalog</strong> 窗口中编辑这些属性。<br><br></p>

<p>2.要为不同区域指定独特的创意资源，请选择 <strong>ADD LANGUAGE</strong>，然后选中要包含的语言。<br><br> <br><br> <img src="../uploads/Main/AddLanguage.png" alt="Incorporating unique creative assets for different languages in the Developer Dashboard"><br><strong>注意</strong>：下拉列表会显示正在编辑的当前语言。如果添加的语言没有创意资源，则会默认使用其 <strong>English (United States)</strong>（美国英语）创意资源。<br><br> </p>

<p>3.按照以下准则，为手机和平板电脑设备上传<strong>纵向</strong> (Portrait) 或<strong>横向</strong> (Landscape) 创意资源：<br><br>
 * PNG 或 JPG 文件格式。
 * 每个__商品__要求一个创意资源至少有一种配置才符合__推荐 (Promotions)__ 的条件。为了获得更好的消费体验，请为每种设备和方向提供经过优化的创意资源。
 * <strong>手机</strong>创意资源尺寸为 580 x 1035 像素（纵向方向）或 1035 x 580 像素（横向方向）。
 * <strong>平板电脑</strong>创意资源尺寸为 900 x 1200 像素（纵向方向）或 1200 x 900 像素（横向方向）。</p>

<p>4.选择 <strong>UPLOAD CREATIVE</strong> 以便上传创意资源。左侧会显示预览。</p>

<p>5.按照以下准则，选择 <strong>UPLOAD PURCHASE BUTTON</strong> 将一个交互式按钮置于创意资源上：<br><br>
 * 必须上传购买按钮才能继续。
 * 按钮资源的最小文件大小为 60 x 60 像素。
 * 可以单击并拖动预览窗口上的购买按钮来放置该按钮。
 * 可以设置按钮文本的字体、颜色和大小。<br><br> <img src="../uploads/Main/UploadCreatives.png" alt="开发者控制面板 (Developer Dashboard) 中的创意资源上传界面概览"></p>

<p>6.选择 <strong>SAVE</strong> 以继续。返回到 <strong>Product Catalog</strong> 页面后，__商品__现在<strong>符合推荐条件</strong> (Promotion Eligible)。<br><br> <img src="../uploads/Main/UpdatedProduct.png" alt="开发者控制面板 (Developer Dashboard) 中现在符合推荐 (Promotions) 条件的商品"></p>

<p><strong>注意</strong>：必须将__商品目录__导出并提交到相应的 Google Play 或 iTunes 应用商店，才能执行购买流程。请参阅有关 <a href="https://docs.unity3d.com/Manual/UnityIAPCodelessIAP.html">Codeless IAP</a> 的文档中的<strong>导出</strong>部分。</p>

<p><br>
<br></p>

<hr>

<ul>
<li><span class="page-edit">2018–03–01 Page published with <a href="DocumentationEditorialReview.html">editorial review</a>
</span></li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="IAPPromoPlacements.html"></a></span><div class="tip">内购推荐 (IAP Promo) 广告位</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="IAPPromoPromotions.html"></a></span><div class="tip">推荐 (Promotions)</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2018 Unity Technologies. Publication 2018.1</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
